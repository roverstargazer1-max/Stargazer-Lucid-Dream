@import 'constants.styl'

// 1) 容器：自适应网格，让页面更饱满
.kira-friends
  display: grid
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr))
  grid-gap: 20px 24px
  width: 100%

// 2) 外层包装（占位即可）
.kira-friends-friendWrapper
  width: 100%

// 3) 卡片主体：保留 hover 特效（覆盖层 + 头像旋转 + 标题变白）
.kira-friends-item
  position: relative
  display: flex
  align-items: center
  gap: 16px
  padding: 16px 18px
  border-radius: 16px
  text-decoration: none
  color: inherit
  overflow: hidden
  background: #fff
  box-shadow: 0 2px 16px rgba(49,174,255,.08), 0 1.5px 6px rgba(0,0,0,.04)
  border: 1px solid rgba(49,174,255,.08)
  transition: background .25s ease, transform .25s ease, box-shadow .25s ease, border-color .2s

  // 覆盖层（取代旧写法的 scale(0) -> scale(1)）
  &:before
    content: ""
    position: absolute
    inset: 0
    background: $color1 // 来自 constants.styl 的主题色
    border-radius: inherit
    transform: scale(.9)
    opacity: 0
    transition: transform .35s ease, opacity .35s ease

  &:hover
    transform: translateY(-1px)
    box-shadow: 0 0 16px $krdbgc1 // 与旧版一致的发光阴影
    &:before
      transform: scale(1)
      opacity: .16

  // 悬停：头像旋转
  &:hover .kira-friends-avatarWrapper img
    transform: rotateZ(360deg)

  &:hover
    box-shadow: 0 4px 24px rgba(49,174,255,.18), 0 2px 8px rgba(0,0,0,.08)
    border-color: rgba(49,174,255,.18)



// 4) 头像
.kira-friends-avatarWrapper
  width: 72px
  min-width: 72px
  height: 72px
  border-radius: 50%
  overflow: hidden
  display: flex
  justify-content: center
  align-items: center

  img
    width: 100%
    height: 100%
    object-fit: cover
    border-radius: 50%
    transition: transform .5s ease // 旋转动画

// 5) 文本
.kira-friends-intro
  display: flex
  flex-direction: column
  min-width: 0

.kira-friends-blogName
  font-size: 18px
  font-weight: 600
  line-height: 1.25
  color: var(--kira-text-1, #222)
  margin-bottom: 6px
  white-space: nowrap
  overflow: hidden
  text-overflow: ellipsis
  transition: color .2s ease

.kira-friends-desc
  font-size: 14px
  line-height: 1.6
  color: var(--kira-text-3, #666)
  display: -webkit-box
  -webkit-line-clamp: 2
  -webkit-box-orient: vertical
  overflow: hidden

// 6) 自适应
@media (max-width: 640px)
  .kira-friends
    grid-template-columns: 1fr
  .kira-friends-avatarWrapper
    width: 60px
    min-width: 60px
    height: 60px
  .kira-friends-item
    padding: 14px 16px

// 7) 暗色模式微调
@media (prefers-color-scheme: dark)
  .kira-friends-item:hover
    box-shadow: 0 0 16px rgba(255,255,255,.12)
  .kira-friends-blogName
    color: var(--kira-text-1, #eee)
  .kira-friends-desc
    color: var(--kira-text-3, #aaa)